

<ion-content [fullscreen]="true" class="ion-padding">
  <ion-header [translucent]="false" style="background-color: white;">

    <div style=""  color="#ffffff">
      <div>
        <ion-icon (click)="back()" style="height: 50px; font-weight:50px;  --ionicon-stroke-width: 20px; width: 50px;" name="arrow-back-circle-outline"></ion-icon>
      </div>
    </div>
    <ng-container >
      <div  >
  
        <!-- <div class="vehicle-text-header"> -->
          <p style="font-size: 1.2em; margin-top: 0px; margin-bottom: 0px; padding-top: 0px !important; font-weight: 600;padding: 5%;
          padding-bottom: 0px; color:black">Generate Quote</p>
          <small style="color: lightgrey; padding-bottom: 10px; padding-left: 5%;">Generate your quote</small>
          <!-- <ion-icon name="heart-outline"></ion-icon> -->
        </div>
    </ng-container>
  </ion-header>
  <!-- <ion-button expand="full" color="light" class="ion-margin-top-50">Review Quote Leg</ion-button> -->
  <ion-toolbar style="border-bottom: 5px solid #D4002A; "  color="#ffffff">
     
    <ion-img [src]="booking?.vehicle?.image?.storageUrl" />
  </ion-toolbar>

  <ion-card style="margin-left: 0px;
  margin-right: 0px;">
    <ion-card-header>
      <ion-card-title style="font-size: 15px;
      text-align: center;
      color: white;
      font-weight: 500;">SUMMARY </ion-card-title>
    </ion-card-header>
    <ion-grid>

      <ion-row>
        <ion-col>
 
       
          <p style="text-align: center;  font-weight: 600; color:black" *ngIf="booking?.additionalDrivers?.length>0">Driver details
          </p>
          <div *ngFor="let driver of booking?.additionalDrivers">
            <ion-text style="font-weight: 400;">
           
              {{driver.title}} {{ driver.name }} {{ driver.surname }}
            
            </ion-text>
          </div>
          <br /><br />
          <ng-container *ngIf="booking?.bookingType.id !== 1">
            <p style="text-align: center; font-weight: 600;" *ngIf="booking?.passengers?.length>0">Passenger details</p>
            <ng-container *ngFor="let passenger of booking?.passengers">
              <div>
                <ion-text style="font-weight: 400;">
                  Name: {{passenger.title}} {{ passenger.name }} {{ passenger.lastname }} {{ passenger.surname }}
                </ion-text>
              </div>
            </ng-container>
          </ng-container>

          <ion-text *ngIf="booking?.notes?.length>0">
            <p style="text-align: center;  font-weight: 600; color:black">Notes
            </p>
            <ion-item>
              {{ booking?.note }}
            </ion-item>
          </ion-text>
          <hr />

        
          <p style="text-align: center;  font-weight: 600;" *ngIf="filteredAccessories().length>0">Charges
          </p>
        
       
          <table style="width: 100%; color: black;">
            <tr style="text-align: left;">
              <th style=" font-weight: 600;">Description</th>
              <th  style=" font-weight: 600;">QTY</th>
              <th  style=" font-weight: 600;"></th>
              <th  style=" font-weight: 600;">Charge</th>
           
            </tr>
            <tr *ngFor="let accessory of filteredAccessories()">
              <td style="font-weight:400">
                {{ accessory.option | titlecase }}
              </td>
              <td style="font-weight:400; text-align: center;">
                {{ accessory.qty}}
              </td>
         
              <td  style=" font-weight: 600;"></td>
              <td style="font-weight:400">
                {{ accessory.cost | currency: 'R':true:'1.0-0'}}
              </td>
           
            </tr>
            <tr *ngFor="let fee of booking?.vehicle?.feeBreakdown?.fee">

              <td >
                <ion-text style="font-weight:400" class="ion-margin-top">{{fee.feeType | titlecase}}: </ion-text>
              </td>
              <td style="text-align: center;">
                1
              </td>
              <td  style=" font-weight: 600;"></td>

              <td>
                <ion-text style="font-weight:400" class="ion-margin-top">{{fee.price | currency : "R":true:'1.0-0' }} </ion-text>
              </td>
            
            </tr>
            <tr style="text-align: left;">
              <th colspan="3">
                <ion-text style="font-weight: 600;" class="ion-margin-top">TOTAL </ion-text>
              </th>
              <th>
                <ion-text style="font-weight: 600;" class="ion-margin-top">{{getBookingLegTotal(booking) | currency : "R":true:'1.0-0' }}
                </ion-text>
              </th>
            </tr>
          </table>

        </ion-col>

      </ion-row>

      <ion-row>
     

        <ion-col>
         
        </ion-col>
     

      </ion-row>
    </ion-grid>
  </ion-card>
  <ion-toolbar style="background-color: white;">
    <ion-button expand="full" (click)="onBack()" color="dark"  expand="block">Previous Screen</ion-button>
    <ion-button expand="full" color="secondary" (click)="onAnother()" color="dark"  expand="block">Add Another</ion-button>
    <ion-button expand="full" (click)="continue()" color="danger"  expand="block">Continue</ion-button>
  </ion-toolbar>
</ion-content>
<app-bottom-menu></app-bottom-menu>
<!-- <ion-footer class="ion-padding">

</ion-footer> -->